<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SOLID Design Principles</title>
  <meta name="description" content="SOLID is a collection of five object oriented design principles that go nicelytogether. Here’s a super brief summary pulled from the wikipediapage on the top...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://yourdomain.com/articles/solid-design-principles">
  <link rel="alternate" type="application/rss+xml" title="Practicing Ruby" href="http://yourdomain.com/feed.xml">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33127211-2', 'auto');
    ga('send', 'pageview');
  </script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Practicing Ruby</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
          <a class="page-link" href="/about">About</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">SOLID Design Principles</h1>
    <p class="post-meta"><time datetime="2011-02-05T00:00:00-05:00" itemprop="datePublished">Feb 5, 2011</time> • Gregory Brown</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>SOLID is a collection of five object oriented design principles that go nicely
together. Here’s a super brief summary pulled from <a href="http://en.wikipedia.org/wiki/SOLID">the wikipedia
page</a> on the topic:</p>

<ul>
  <li>
    <p>Single responsibility principle: an object should have only a single
responsibility.</p>
  </li>
  <li>
    <p>Open/closed principle: an object should be open for extension, but closed for
modification.</p>
  </li>
  <li>
    <p>Liskov substitution principle: objects in a program should be replaceable with
instances of their subtypes without altering the correctness of that program.</p>
  </li>
  <li>
    <p>Interface segregation principle: many client specific interfaces are better
than one general purpose interface.</p>
  </li>
  <li>
    <p>Dependency inversion principle: depend upon abstractions, do not depend upon
concretions</p>
  </li>
</ul>

<p>The term SOLID was coined by Uncle Bob Martin to group together these important
concepts. I had heard of each of the design principles SOLID covers over the
years, but didn’t really think much of them until I attended a great talk by
Sandi Metz at GoRuCo 2009. Fortunately, Confreaks recorded <a href="http://confreaks.net/videos/240-goruco2009-solid-object-oriented-design">Sandi’s
talk</a>
so I won’t need to try to summarize it here.</p>

<p>I’d strongly recommend watching that video before moving on, because it will go
through SOLID in a lot more detail than what I plan to do in this article. You
might also watch <a href="http://confreaks.net/videos/185-rubyconf2009-solid-ruby">another video on the same topic by Jim
Weirich</a>, which like
pretty much any other talk Jim has done, is likely to blow your mind.</p>

<p>Rather than giving a tutorial on these principles, I’m going to trust you to
either read up on them or watch the videos I’ve linked to. This way, we can
focus on what I think is a much more interesting problem: How to apply these
ideas to real code.</p>

<h3 id="single-responsibility-principle">Single responsibility principle</h3>

<p>The idea that an object should have only a single responsibility shouldn’t come
as a surprise. This concept is one of the selling points for object oriented
languages that sets them apart from the more procedural systems that preceded
them. The hard part about putting this idea into practice is figuring out just
how wide to cast the ‘single responsibility’ net.</p>

<p>In my experience, most objects are born with just one goal in mind, and so
adhere to this principle at least superficially in the early stages of
greenfield projects. It’s later when systems get more complex that our objects
lose their identity. To demonstrate this phenomena, we can look at the life
cycle of the Document object from my PDF generation library Prawn.</p>

<p>Back in early 2008, when the project was just beginning, my idea was that the
job of the Document class would be to wrap the low level concept of a Document
at the PDF layer, with a few extra convenience functions at the high level. For
a sketch of what that looked like at the time, we can take a look at the
object’s public methods.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Directly implemented on Prawn::Document
  start_new_page, page_count, page_size, page_layout, render, render_file

Mixed in via Prawn::Document::Graphics
  line_width=, line, line_to, curve_to, curve, circle_at, ellipse_at,
  polygon, rectangle, stroke, fill, fill_color, stroke_color

Mixed in via Prawn::Document::PageGeometry
  page_dimensions
</code></pre>
</div>

<p>This is so early in Prawn’s history that it didn’t even have text support yet.
While the API wasn’t perfectly well factored at this point in time, the fact
that almost all the above methods directly produced PDF instructions or
manipulated low level structures made me feel that it was a reasonably cohesive
set of features.</p>

<p>Fast forward by a year, and we end up with feature explosion on <code class="highlighter-rouge">Document</code>.
Here’s what shipped in Prawn 0.4.1:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Directly implemented on Prawn::Document
  start_new_page, page_count, cursor, render, render_file, bounds,
  bounds=, move_up, move_down, pad_top, pad_bottom, pad, mask,
  compression_enabled?, y, margin_box, margins, page_size,
  page_layout, font_size

Included via Prawn::Document::Text
  text, text_options, height_of (via Prawn::Document::Text::Wrapping),
  naive_wrap (via Prawn::Document::Text::Wrapping)

Included via Prawn::Document::PageGeometry
  page_dimensions

Included via Prawn::Document::Internals
  ref, add_content, proc_set, page_resources, page_fonts, 
  page_xobjects, names

Included via Prawn::Document::Annotations
  annotate, text_annotation, link_annotation

Included via Prawn::Document::Destinations
  dests, add_dest, dest_xyz, dest_fit,  dest_fit_horizontally, 
  dest_fit_vertically, dest_fit_rect, dest_fit_bounds,
  dest_fit_bounds_horizontally, dest_fit_bounds_vertically

Included via Prawn::Graphics
  move_to, line_to, curve_to, rectangle, line_width=, line_width,
  line, horizontal_line, horizontal_rule, vertical_line, curve,
  circle_at, ellipse_at, polygon, stroke, stroke_bounds, fill,
  fill_and_stroke, fill_color (via Prawn::Document::Color), 
  stroke_color (via Prawn::Document::Color)

Included via Prawn::Images
  image
</code></pre>
</div>

<p>The above list of methods is almost embarrassingly scattershot, but it was due
to an oversight. The mistake I made was thinking that splitting different
aspects of functionality into modules was a valid way of respecting the single
responsibility principle. But this is deeply flawed thinking, because the end
result of pulling in roughly 50 methods into a single object by mixing in 8
modules results in a single object, <code class="highlighter-rouge">Prawn::Document</code> having 60+ public methods
all sharing the same state and namespace. Any illusion of a physical separation
of concerns is all smoke and mirrors here.</p>

<p>Once an object gets this fat, thinking about the cohesiveness of the interface
is the most minor detail to be worried about. I’ve focused on the 60 public
methods here, but if we count private methods, they would easily exceed 100.
Sometimes folks think that private methods in mixins don’t actually get mixed
into the base object, but that’s an incorrect assumption, making this problem
much, much worse.</p>

<p>Having close to two hundred methods living in one space causes you to run into
really basic, fundamental problems such as namespace clashes on method names and
variables. It also makes data corruption downright easy, because it’s hard to
keep track of how a couple hundred methods manipulate a common dataset. Once you
reach this point, you’re back in procedural coding land where all manners of bad
things can happen.</p>

<p>Now that I’ve sufficiently kicked my own ass, I can tell you the solution to
this problem is simple, if not easy to refactor towards once you’ve already made
the mess: you just introduce more objects. To do so, we need to identify the
different concerns and group them together, putting abstraction barriers between
their implementations and the behaviors they provide.</p>

<p>An easy realization to make is that over time, Prawn’s <code class="highlighter-rouge">Document</code> became two
different things at the conceptual level. When we see methods like
<code class="highlighter-rouge">page_xobjects</code>, <code class="highlighter-rouge">ref</code>, and <code class="highlighter-rouge">proc_set</code>, we know that there are some low level
tools in use here. But what about methods like move_up, move_down, text, image,
and others like them? These are clearly meant for something that resembles a
domain specific language, and Prawn does look gorgeous at the high level, just
see the simple example below to see what I mean.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="no">Prawn</span><span class="o">::</span><span class="no">Document</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="s1">'hello.pdf'</span><span class="p">)</span> <span class="k">do</span> 
  <span class="n">text</span> <span class="s2">"Hello Prawn!"</span>
<span class="k">end</span> 
</code></pre>
</div>

<p>With 20/20 hindset, the solution to this problem is obvious: Produce a whole
layer of low level tooling that closely follows the PDF spec, creating objects
for managing things like a PDF-level page, the rendering of raw PDF strings,
etc. Make as many objects as necessary to do that, and then maybe provide a
facade that makes interacting with them a bit easier.</p>

<p>Then, for the higher level features, do the same thing. Have an object who’s job
is to provide nice looking methods that rely on Prawn’s lower level
objects to do the dirty work. Dedicate whole objects or even clusters of objects
to text, images, graphics, and any other cluster of functionality that
previously was mixed into Document directly. The objects might require a bit
more wiring, but the facade can hide that by doing things like the pseudo-code
below.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{})</span>
  <span class="n">text_element</span> <span class="o">=</span> <span class="no">Prawn</span><span class="o">::</span><span class="no">TextElement</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
  <span class="n">text_element</span><span class="p">.</span><span class="nf">render_on</span><span class="p">(</span><span class="n">current_page</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</div>

<p>Naming the benefits of this over the previous design would take a long time, but
we’ve at least cut out those pesky namespace and data corruption concerns
while providing a cohesive API.</p>

<p>While I don’t think that the scale of our design problem in Prawn is comparable
to what most Ruby hackers are likely to experience in their day to day work, it
does show just how bad things can get when you start dealing with very complex
systems. Prawn has improved a lot since its 0.4.1 release, but undoing the
damage that was done by neglecting this for so long has been a slow and painful
process for us.</p>

<p>The real lesson here is that you can’t respect SRP without real abstraction
barriers. SRP is about more than just creating a cohesive API, you actually need
to create a physical separation of concerns at the implementation level of your
system.</p>

<p>Since it’s very likely that you’re experiencing this sort of issue on a smaller
scale in the projects you’re working on, keeping the story about what happened
to me in Prawn in mind may help you learn from my mistakes instead of your own.</p>

<h3 id="openclosed-principle">Open/closed principle</h3>

<p>The open/closed principle tells us that an object should be open for extension,
but closed for modification. This can mean a lot of different things, but the
basic idea is that when you introduce a new behavior to an existing system,
rather than modifying old objects you should create new objects which inherit
from or delegate to the target object you wish to extend. The theoretical payoff
is that taking this approach improves the stability of your application by
preventing existing objects from changing frequently, which also makes
dependency chains a bit less fragile because there are less moving parts to
worry about.</p>

<p>Personally, I feel that treating this principle as an absolute law would lead to
the creation of a lot of unnecessary wrapper objects that could make your
application harder to understand and maintain, so much that it might outweigh
the stability benefits you’d gain. But that doesn’t mean these ideas don’t have
their value, in fact, they provide an excellent alternative to extensive
monkeypatching of third party code.</p>

<p>To illustrate this, I’d like to talk about 
<a href="https://github.com/carlosantoniodasilva/i18n_alchemy">i18n_alchemy</a>, a project
by Carlos Antonio da Silva that was built as a student project for his Mendicant
University core course. The goal of this project was to make it easy to add
localizations for numeric, time, and date values in ActiveRecord.</p>

<p>Early on in the course, Carlos came to me with an implementation that
more-or-less followed the standard operating procedure for developing Rails
plugins. While Carlos shouldn’t be faulted for following community trends here,
the weapon of choice was a shotgun blast into an <code class="highlighter-rouge">ActiveRecord::Base</code> object’s
namespace, via a mixin which could be used on a per-model level. By including
this module, you would end up with behavior that looked a bit like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">some_model</span> <span class="o">=</span> <span class="no">SomeModel</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="n">something</span><span class="p">)</span>
<span class="n">some_model</span><span class="p">.</span><span class="nf">a_number</span>     <span class="c1">#=&gt; &lt;a localized value&gt;</span>
<span class="n">some_model</span><span class="p">.</span><span class="nf">a_number_raw</span> <span class="c1">#=&gt; &lt;the original numeric value&gt;</span>
</code></pre>
</div>

<p>Now, there are pros and cons to this approach, but I felt pretty sure that we
could do better, and through conversations with Carlos, we settled on a much
better design that didn’t make such far reaching changes to the model objects.
Before I explain how it works, I’d like to show an example of how i18n_alchemy
works now:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">some_model</span> <span class="o">=</span> <span class="no">SomeModel</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="n">something</span><span class="p">)</span>
<span class="n">some_model</span><span class="p">.</span><span class="nf">a_number</span>     <span class="c1">#=&gt; &lt;the original numeric value&gt;</span>

<span class="n">localized_model</span> <span class="o">=</span> <span class="n">some_model</span><span class="p">.</span><span class="nf">localized</span>
<span class="n">localized_model</span><span class="p">.</span><span class="nf">a_number</span> <span class="c1">#=&gt; &lt;a localized value&gt;</span>
</code></pre>
</div>

<p>In this new implementation, you do have to explicitly ask for a localized
object, but that small change gains us a lot. The module that gives us
<code class="highlighter-rouge">SomeModel#localized</code> only introduces that one method, rather than a hook that
gets run for every <code class="highlighter-rouge">ActiveRecord::Base</code> method. That means that
ordinary calls to models extended by i18n_alchemy still work as they always did.</p>

<p>Our localized model act differently, but it’s actually not an instance of
SomeModel at all. Instead, it is a simple proxy object that defines special
accessors for the methods that i18n_localized, delegating everything else to the
target model instance.</p>

<p>This makes it possible for the consumer to choose when it’d be best to work with
the localized object, and when it’d be best to work with the model directly.
Unlike the first implementation which breaks the ordinary expected
behavior of an ActiveRecord model, this approach creates a new entity which can
have new behaviors while reusing old functionality.</p>

<p>We were both pretty proud of the results here, because it gives some of the
convenient feel of mixing in some new functionality into an existing Ruby object
without the many downsides. This of course is only a single example of how you
can use OCP in your own code, but I think it’s a particularly good one.</p>

<h3 id="liskov-substitution-principle">Liskov substitution principle</h3>

<p>The idea behind Liskov substitution is that functions that are designed operate
on a given type of object should work without modification when they operate on
objects that belong to a subtype of the original type. In many object oriented
languages, the type of an object is closely tied to its class, and so in those
languages, this principle mostly describes a rule about a relationship between a
subclass and a superclass. In Ruby, this concept is a bit more fluid, and
probably requires a bit more explanation up front.</p>

<p>When we talk about the type of an object in Ruby, we’re concerned with
what messages that object responds to rather than what class that object is an
instance of. This seems like a subtle difference, but it has a profound
impact on how we think about thing. In Ruby, type checking can range from very
strict to none at all, as shown by the examples below.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  <span class="c1">## Different ways of type checking, from most to least coarse ##</span>

  <span class="c1"># verify the class of an object matches a specific class</span>
  <span class="n">object</span><span class="p">.</span><span class="nf">class</span> <span class="o">==</span> <span class="no">Array</span>

  <span class="c1"># verify object's class descends from a specific class</span>
  <span class="n">object</span><span class="p">.</span><span class="nf">kind_of?</span><span class="p">(</span><span class="no">Array</span><span class="p">)</span>   

  <span class="c1"># verify a specific module is mixed into this object</span>
  <span class="n">object</span><span class="p">.</span><span class="nf">kind_of?</span><span class="p">(</span><span class="no">Enumerable</span><span class="p">)</span>
  
  <span class="c1"># verify object claims to understand the specified message</span>
  <span class="n">object</span><span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:sort</span><span class="p">)</span>   

  <span class="c1"># don't verify, trust object to either behave or raise an error</span>
  <span class="n">object</span><span class="p">.</span><span class="nf">sort</span>                 
</code></pre>
</div>

<p>Regardless of the level of granularity of the definition, objects that are meant
to be treated as subtypes of a base type should not break the contracts of the
base type. This is a very hard standard to live up to when dealing with ordinary
class inheritance or module mixins, since you basically need to know the
behavior specifications for everything in the ancestry chain, and so the rule of
thumb is basically not to inherit from anything or mix in a module unless you’re
fairly certain that the behavior you’re implementing will not interfere with the
internal operations of your ancestors.</p>

<p>To demonstrate a bit of a weird LSP issue, let’s think about what happens when
you subclass an <code class="highlighter-rouge">ActiveRecord::Base</code> object. Technically speaking, if we give
ourselves a pass for breaking signature of methods provided by Object, we’d
still need to keep track of all the behaviors <code class="highlighter-rouge">ActiveRecord::Base</code> provides, and
take care not to violate them. Here’s a brief list of method names, but keep in
mind we’d also need to match signatures and return values.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&gt;&gt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="p">.</span><span class="nf">instance_methods</span><span class="p">(</span><span class="kp">false</span><span class="p">).</span><span class="nf">sort</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"=="</span><span class="p">,</span> <span class="s2">"[]"</span><span class="p">,</span> <span class="s2">"[]="</span><span class="p">,</span> <span class="s2">"attribute_for_inspect"</span><span class="p">,</span> <span class="s2">"attribute_names"</span><span class="p">,</span>
<span class="s2">"attribute_present?"</span><span class="p">,</span> <span class="s2">"attribute_types_cached_by_default"</span><span class="p">,</span> <span class="s2">"attributes"</span><span class="p">,</span>
<span class="s2">"attributes="</span><span class="p">,</span> <span class="s2">"attributes_before_type_cast"</span><span class="p">,</span> <span class="s2">"becomes"</span><span class="p">,</span> <span class="s2">"cache_key"</span><span class="p">,</span>
<span class="s2">"clone"</span><span class="p">,</span> <span class="s2">"colorize_logging"</span><span class="p">,</span> <span class="s2">"column_for_attribute"</span><span class="p">,</span> <span class="s2">"configurations"</span><span class="p">,</span>
<span class="s2">"connection"</span><span class="p">,</span> <span class="s2">"connection_handler"</span><span class="p">,</span> <span class="s2">"decrement"</span><span class="p">,</span> <span class="s2">"decrement!"</span><span class="p">,</span>
<span class="s2">"default_scoping"</span><span class="p">,</span> <span class="s2">"default_timezone"</span><span class="p">,</span> <span class="s2">"delete"</span><span class="p">,</span> <span class="s2">"destroy"</span><span class="p">,</span>
<span class="s2">"destroy_without_callbacks"</span><span class="p">,</span> <span class="s2">"destroy_without_transactions"</span><span class="p">,</span>
<span class="s2">"destroyed?"</span><span class="p">,</span> <span class="s2">"eql?"</span><span class="p">,</span> <span class="s2">"freeze"</span><span class="p">,</span> <span class="s2">"frozen?"</span><span class="p">,</span> <span class="s2">"has_attribute?"</span><span class="p">,</span> <span class="s2">"hash"</span><span class="p">,</span>
<span class="s2">"id"</span><span class="p">,</span> <span class="s2">"id="</span><span class="p">,</span> <span class="s2">"id_before_type_cast"</span><span class="p">,</span> <span class="s2">"include_root_in_json"</span><span class="p">,</span> <span class="s2">"increment"</span><span class="p">,</span>
<span class="s2">"increment!"</span><span class="p">,</span> <span class="s2">"inspect"</span><span class="p">,</span> <span class="s2">"lock_optimistically"</span><span class="p">,</span> <span class="s2">"logger"</span><span class="p">,</span>
<span class="s2">"nested_attributes_options"</span><span class="p">,</span> <span class="s2">"new_record?"</span><span class="p">,</span> <span class="s2">"partial_updates"</span><span class="p">,</span>
<span class="s2">"partial_updates?"</span><span class="p">,</span> <span class="s2">"pluralize_table_names"</span><span class="p">,</span> <span class="s2">"primary_key_prefix_type"</span><span class="p">,</span>
<span class="s2">"quoted_id"</span><span class="p">,</span> <span class="s2">"readonly!"</span><span class="p">,</span> <span class="s2">"readonly?"</span><span class="p">,</span> <span class="s2">"record_timestamps"</span><span class="p">,</span> <span class="s2">"reload"</span><span class="p">,</span>
<span class="s2">"reload_without_autosave_associations"</span><span class="p">,</span> <span class="s2">"reload_without_dirty"</span><span class="p">,</span> <span class="s2">"save"</span><span class="p">,</span>
<span class="s2">"save!"</span><span class="p">,</span> <span class="s2">"save_without_dirty"</span><span class="p">,</span> <span class="s2">"save_without_dirty!"</span><span class="p">,</span>
<span class="s2">"save_without_transactions"</span><span class="p">,</span> <span class="s2">"save_without_transactions!"</span><span class="p">,</span>
<span class="s2">"save_without_validation"</span><span class="p">,</span> <span class="s2">"save_without_validation!"</span><span class="p">,</span> <span class="s2">"schema_format"</span><span class="p">,</span>
<span class="s2">"skip_time_zone_conversion_for_attributes"</span><span class="p">,</span> <span class="s2">"store_full_sti_class"</span><span class="p">,</span>
<span class="s2">"store_full_sti_class?"</span><span class="p">,</span> <span class="s2">"table_name_prefix"</span><span class="p">,</span> <span class="s2">"table_name_suffix"</span><span class="p">,</span>
<span class="s2">"time_zone_aware_attributes"</span><span class="p">,</span> <span class="s2">"timestamped_migrations"</span><span class="p">,</span> <span class="s2">"to_param"</span><span class="p">,</span>
<span class="s2">"toggle"</span><span class="p">,</span> <span class="s2">"toggle!"</span><span class="p">,</span> <span class="s2">"update_attribute"</span><span class="p">,</span> <span class="s2">"update_attributes"</span><span class="p">,</span>
<span class="s2">"update_attributes!"</span><span class="p">,</span> <span class="s2">"valid?"</span><span class="p">,</span> <span class="s2">"valid_without_callbacks?"</span><span class="p">,</span>
<span class="s2">"write_attribute"</span><span class="p">,</span> <span class="s2">"write_attribute_without_dirty"</span><span class="p">]</span>
</code></pre>
</div>

<p>Hopefully your impression after reading this list is that LSP is basically
impossible to be a purist about, but let’s try to come up with a plausible
violation that isn’t some obscure edge case. For example, what happens if we’re
building a database model for describing a linux system configuration, which has
a field called logger in it? You can certainly at least get away with the
migration for it without Rails complaining, using something like the code shown
below.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">CreateLinuxConfigs</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">up</span>
    <span class="n">create_table</span> <span class="ss">:linux_configs</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
      <span class="n">t</span><span class="p">.</span><span class="nf">text</span> <span class="ss">:logger</span>
      <span class="n">t</span><span class="p">.</span><span class="nf">timestamps</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">down</span>
    <span class="n">drop_table</span> <span class="ss">:linux_configs</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>

<p>The standard behavior of <code class="highlighter-rouge">ActiveRecord</code>’s models is to provide dynamic accessors
to a record’s database fields, which means we should expect the following
behavior:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">config</span>        <span class="o">=</span> <span class="no">LinuxConfig</span><span class="p">.</span><span class="nf">new</span>
<span class="n">config</span><span class="p">.</span><span class="nf">logger</span> <span class="o">=</span> <span class="s2">"syslog-ng"</span>
<span class="n">config</span><span class="p">.</span><span class="nf">logger</span> <span class="c1">#=&gt; "syslog-ng"</span>
</code></pre>
</div>

<p>But because <code class="highlighter-rouge">ActiveRecord::Base</code> also implements a method called <code class="highlighter-rouge">logger</code>, and the
dynamic attribute lookup is just a method_missing hack, we end up with a
different behavior:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">config</span>        <span class="o">=</span> <span class="no">LinuxConfig</span><span class="p">.</span><span class="nf">new</span>
<span class="n">config</span><span class="p">.</span><span class="nf">logger</span> <span class="o">=</span> <span class="s2">"syslog-ng"</span> 
<span class="n">config</span><span class="p">.</span><span class="nf">logger</span> <span class="c1">#=&gt; #&lt;ActiveSupport::BufferedLogger:0x00000000b6de38 </span>
              <span class="c1">#     @level=0, @buffer={}, @auto_flushing=1, </span>
              <span class="c1">#     @guard=#&lt;Mutex:0x00000000b6dde8&gt;,</span>
              <span class="c1">#     @log=#&lt;File:/home/x/demo/log/development.log&gt;&gt;</span>
</code></pre>
</div>

<p>If you’ve been following closely, you probably saw this coming from a mile away,
even if you couldn’t predict the exact behavior. It’s worth mentioning that even
Rails knows that this sort of setup will lead to bad things, but their checks
which raise an error when they spot this LSP violation apparently aren’t
comprehensive. But to be fair, if we try to set this at the time our record was
initialized, or if we try to use write_attribute, we get a pretty decent error
message.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&gt;&gt;</span> <span class="n">config</span> <span class="o">=</span> <span class="no">LinuxConfig</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:logger</span> <span class="o">=&gt;</span> <span class="s2">"syslog-ng"</span><span class="p">)</span>
<span class="no">ActiveRecord</span><span class="o">::</span><span class="no">DangerousAttributeError</span><span class="p">:</span> <span class="n">logger</span> <span class="n">is</span> <span class="n">defined</span> <span class="n">by</span> <span class="no">ActiveRecord</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&gt;&gt;</span> <span class="n">config</span> <span class="o">=</span> <span class="no">LinuxConfig</span><span class="p">.</span><span class="nf">new</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;LinuxConfig id: nil, logger: nil, created_at: nil, updated_at: nil&gt;</span>
<span class="o">&gt;&gt;</span> <span class="n">config</span><span class="p">.</span><span class="nf">write_attribute</span><span class="p">(</span><span class="ss">:logger</span><span class="p">,</span> <span class="s2">"syslog-ng"</span><span class="p">)</span>
<span class="no">ActiveRecord</span><span class="o">::</span><span class="no">DangerousAttributeError</span><span class="p">:</span> <span class="n">logger</span> <span class="n">is</span> <span class="n">defined</span> <span class="n">by</span> <span class="no">ActiveRecord</span>
</code></pre>
</div>

<p>This sort of proactive error checking is actually more than we should expect
from most parent classes, <code class="highlighter-rouge">ActiveRecord::Base</code> just takes special consideration
because it is so widely used. You can’t expect every object you might subclass
to even try to catch these sorts of violations, and it’s not a great idea to
introduce this sort of logic into your own base classes without carefully
considering the context. Of course, that doesn’t mean that there aren’t measures
you can take to avoid LSP violations in code that you design yourself.</p>

<p>I don’t want to go into too much detail here, but there are two techniques I
like to use for mitigating LSP issues. The first one is object composition, and
the second is defining per-object behavior. Just as an experiment, I’ve thrown
together a rethinking of how <code class="highlighter-rouge">ActiveRecord</code> could handle dynamic accessors in a
slightly more robust way.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">require</span> <span class="s2">"delegate"</span>

<span class="k">module</span> <span class="nn">DynamicFinderProxy</span>

  <span class="kp">extend</span> <span class="nb">self</span>

  <span class="k">def</span> <span class="nf">build_proxy</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
    <span class="n">proxy</span> <span class="o">=</span> <span class="no">SimpleDelegator</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
    <span class="n">record</span><span class="p">.</span><span class="nf">attribute_names</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">a</span><span class="o">|</span>
      <span class="n">proxy</span><span class="p">.</span><span class="nf">singleton_class</span><span class="p">.</span><span class="nf">instance_eval</span> <span class="k">do</span>
        <span class="n">define_method</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span> <span class="n">read_attribute</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">}</span>
        <span class="n">define_method</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">="</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span> <span class="n">write_attribute</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="n">proxy</span>
  <span class="k">end</span>

<span class="k">end</span>

<span class="k">class</span> <span class="nc">FakeActiveRecord</span>

  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span>
    <span class="k">def</span> <span class="nf">new</span>
      <span class="n">obj</span> <span class="o">=</span> <span class="n">allocate</span>
      <span class="n">obj</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="ss">:initialize</span><span class="p">)</span>
      <span class="no">DynamicFinderProxy</span><span class="p">.</span><span class="nf">build_proxy</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">column_names</span><span class="p">(</span><span class="o">*</span><span class="n">names</span><span class="p">)</span>
      <span class="vi">@column_names</span> <span class="o">=</span> <span class="n">names</span> <span class="k">unless</span> <span class="n">names</span><span class="p">.</span><span class="nf">empty?</span>
      <span class="vi">@column_names</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">attribute_names</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">column_names</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">read_attribute</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">puts</span><span class="p">(</span><span class="s2">"Reading </span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">instance_variable_get</span><span class="p">(</span><span class="s2">"@</span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">write_attribute</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">puts</span><span class="p">(</span><span class="s2">"Writing </span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">instance_variable_set</span><span class="p">(</span><span class="s2">"@</span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">logger</span>
    <span class="no">STDOUT</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">LinuxConfig</span> <span class="o">&lt;</span> <span class="no">FakeActiveRecord</span>
  <span class="n">column_names</span> <span class="s2">"logger"</span><span class="p">,</span> <span class="s2">"crontab"</span>
<span class="k">end</span>

<span class="n">record</span> <span class="o">=</span> <span class="no">LinuxConfig</span><span class="p">.</span><span class="nf">new</span>
<span class="n">record</span><span class="p">.</span><span class="nf">logger</span> <span class="o">=</span> <span class="s2">"syslog-ng"</span>
<span class="nb">p</span> <span class="n">record</span><span class="p">.</span><span class="nf">logger</span>
</code></pre>
</div>

<p>Now, I’ll admit that there is some deep voodoo in this code, but it at least
indicates to me that we should be thinking differently about our options in
Ruby. We have more than just vanilla inheritance to play with, and even ordinary
mixins have their limitations, so maybe we need a whole new set of design
principles that take Ruby’s deeply dynamic nature into account? Or perhaps I’ve
just passed the midway point in a very long article and have decided to go off
on a little tangent to keep myself entertained. I’ll let you be the judge.</p>

<h3 id="interface-segregation-principle">Interface segregation principle</h3>

<p>I’ve seen a couple different interpretations of the interface segregation
principle, with the most narrow ones almost directly outlining the use case for
Java-style interfaces, which is to prevent code from specifying that an object
must be a specific type when all that is required is a certain set of methods to
have a meaningful implementation.</p>

<p>Ruby offers a lot of flexibility and its dynamic typing makes a lot of interface
segregation principle violations just go away on their own. That having been
said, we still see a lot of <code class="highlighter-rouge">is_a?()</code> and <code class="highlighter-rouge">respond_to?()</code> checks which are both
a form of LSP violation.</p>

<p>To protect against those violations, the best bet is to embrace duck typing as
much as possible. Since this article is already super long and we’ve already
covered duck typing extensively in issues
<a href="http://practicingruby.com/articles/43">#14</a> and
<a href="http://practicingruby.com/articles/44">#15</a> of Practicing Ruby, It would be
sufficient to simply re-read those articles if you need a refresher and then
promptly move on to the next principle. But in case you want to dig deeper, here
are a couple more articles related to this topic that you should definitely read
if you haven’t seen them before. All three are about how to get around
explicitly naming classes in case statements, which is a form of LSP violation.</p>

<ul>
  <li>
    <p><a href="http://sandimetz.com/2009/06/ruby-case-statements-and-kindof.html">Ruby case statements and kind_of?(Sandi Metz)</a></p>
  </li>
  <li>
    <p><a href="http://blog.rubybestpractices.com/posts/aaronp/001_double_dispatch_dance.html">The Double Dispatch Dance (Aaron Patterson)</a></p>
  </li>
  <li>
    <p><a href="http://blog.rubybestpractices.com/posts/gregory/008-decorator-delegator-disco.html">The Decorator Delegator Disco (Gregory Brown)</a></p>
  </li>
</ul>

<p>That should add an extra hour or so of homework for you. This is getting a bit
crazy though, so let’s hit that last principle and call it a day.</p>

<h3 id="dependency-inversion-principle">Dependency inversion principle</h3>

<p>You probably already know about the values of dependency inversion (aka
dependency injection) if you’ve been working in Ruby for a while now. You also
probably know that unlike some other languages, there really isn’t a need for DI
frameworks because it implements all the necessary tools for good DI at the
language level. But in case you didn’t get the memo, I’ll go through a quick
example of how dependency inversion can come in handy.</p>

<p>Suppose we have a simple object, like a <code class="highlighter-rouge">Roster</code>, which keeps track of a list of
people, and we have a <code class="highlighter-rouge">RosterPrinter</code> which creates formatted output from that
list. Then we might end up with some code similar to what is shown below.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Roster</span>
  <span class="k">def</span> <span class="nf">initialize</span>        
    <span class="vi">@participants</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">&lt;&lt;</span><span class="p">(</span><span class="n">new_participant</span><span class="p">)</span>
    <span class="vi">@participants</span> <span class="o">&lt;&lt;</span> <span class="n">new_participant</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">participant_names</span>
    <span class="vi">@participants</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="p">.</span><span class="nf">full_name</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">to_s</span>
    <span class="no">RosterPrinter</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">participant_names</span><span class="p">).</span><span class="nf">to_s</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">RosterPrinter</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">participant_names</span><span class="p">)</span>
    <span class="vi">@participant_names</span> <span class="o">=</span> <span class="n">participant_names</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">to_s</span>
    <span class="s2">"Participants:</span><span class="se">\n</span><span class="s2">"</span> <span class="o">+</span>
    <span class="vi">@participant_names</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="s2">"* </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span> <span class="p">}.</span><span class="nf">join</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>

<p>The nice thing about this code is that it separates the presentation of a roster
from its data representation, bringing it in line with the single
responsibility principle. But the problem with it is that <code class="highlighter-rouge">Roster</code> and
<code class="highlighter-rouge">RosterPrinter</code> are needlessly coupled, which limits the value of
separating the objects in the first place. Modifying <code class="highlighter-rouge">Roster#to_s()</code> can
solve this problem.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Roster</span>
  <span class="c1"># other methods same as before</span>

  <span class="k">def</span> <span class="nf">to_s</span><span class="p">(</span><span class="n">printer</span><span class="o">=</span><span class="no">RosterPrinter</span><span class="p">)</span>
    <span class="n">printer</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">participant_names</span><span class="p">).</span><span class="nf">to_s</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># usage</span>
<span class="n">roster</span><span class="p">.</span><span class="nf">to_s</span> 
</code></pre>
</div>

<p>This new code is functionally equivalent to our previous example when called
with no arguments, but opens a whole host of new opportunities. For example, we
can trivially swap in any printer object we’d like now.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">HTMLRosterPrinter</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">participant_names</span><span class="p">)</span>
    <span class="vi">@participant_names</span> <span class="o">=</span> <span class="n">participant_names</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">to_s</span>
    <span class="s2">"&lt;h3&gt;Participants&lt;/h3&gt;&lt;ul&gt;"</span><span class="o">+</span>
    <span class="vi">@participant_names</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="s2">"&lt;li&gt;</span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">&lt;/li&gt;"</span> <span class="p">}</span> <span class="o">+</span>
    <span class="s2">"&lt;/ul&gt;
  end
end

# usage
roster.to_s(HTMLRosterPrinter)
</span></code></pre>
</div>

<p>By injecting the printer object into <code class="highlighter-rouge">Roster</code>, we avoid resorting to
something as uncouth as creating a <code class="highlighter-rouge">Roster</code> subclass for the sole purpose of
wiring up the <code class="highlighter-rouge">HTMLRosterPrinter</code>.</p>

<p>Of course, the most common place that talk about dependency inversion comes up
is when folks are thinking about automated testing. While Ruby makes it possible
to mock out calls to pretty much any object, it’s a whole lot cleaner to pass in
raw mock objects than it is to set expectations on real objects.</p>

<p>Dependency inversion can really come in handy, but it’s important to provide
sensible defaults so that you don’t end up forcing consumers of your API to do a
lot of tedious wiring. The trick is to make it so you can swap out
implementations easily, it’s not as important for your code to have no opinion
about which implementation it should use. Folks sometimes forget this and as a
result their code gets quite annoying to work with. However, Ruby makes it easy
to provide defaults, so there is no real reason why this issue can’t be averted.</p>

<h3 id="reflections">Reflections</h3>

<p>This article is much longer than I expected it would be, but I feel like I’ve
just scratched the surface. An interesting thing about the SOLID principles is
that they all sort of play into each other, so you tend to get the most out of
them by looking at all five concepts at once rather than each one in isolation.</p>

<p>One thing I want to emphasize is that when I make use of SOLID or any other set
of design principles, I use them as a metric rather than a set of
constructive rules. I don’t typically set out designing a system with all of
these different guidelines in mind, as that would give me a claustrophobic
feeling. However, when the time comes to sanity check a new design or make
incremental improvements to an old one during a refactoring session, SOLID
provides a good checklist for pinpointing areas of my code that might deserve
some rethinking.</p>

<p>Sometimes you break these rules by accident, and that’s okay. Sometimes you
break them because you are making a conscious trade to avoid some other bad
thing from happening, and that’s okay too. As long as you’re regularly checking
your assumptions about things and actually caring about the overall design of
your system, you shouldn’t feel guilty for not following these guidelines
perfectly. In fact, it is more dangerous to blindly follow design principles to
the letter than it is to completely ignore them.</p>

<p>We have much, much more design discussion to come, so hopefully you enjoyed this
article. :)</p>

<blockquote>
  <p><strong>NOTE:</strong> This article has also been published on the Ruby Best Practices blog. There 
<a href="http://blog.rubybestpractices.com/posts/gregory/055-issue-23-solid-design.html#disqus_thread">may be additional commentary</a> 
over there worth taking a look at.</p>
</blockquote>


  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Send questions and feedback to:</li>
          <li><a href="mailto:gregory@practicingdeveloper.com">gregory@practicingdeveloper.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/practicingdeveloper"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">practicingdeveloper</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/practicingdev"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">practicingdev</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>The world's largest collection of lessons for experienced Ruby developers.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
